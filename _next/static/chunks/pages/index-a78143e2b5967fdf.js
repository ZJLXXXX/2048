(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{8907:(e,t)=>{"use strict";t.Y=function(e,t){return e.split(",").map(function(e){var t=(e=e.trim()).match(r),s=t[1],o=t[2],a=t[3]||"",c={};return c.inverse=!!s&&"not"===s.toLowerCase(),c.type=o?o.toLowerCase():"all",a=a.match(/\([^\)]+\)/g)||[],c.expressions=a.map(function(e){var t=e.match(n),r=t[1].toLowerCase().match(i);return{modifier:r[1],feature:r[2],value:t[2]}}),c}).some(function(e){var r=e.inverse,n="all"===e.type||t.type===e.type;if(n&&r||!(n||r))return!1;var i=e.expressions.every(function(e){var r=e.feature,n=e.modifier,i=e.value,s=t[r];if(!s)return!1;switch(r){case"orientation":case"scan":return s.toLowerCase()===i.toLowerCase();case"width":case"height":case"device-width":case"device-height":i=l(i),s=l(s);break;case"resolution":i=c(i),s=c(s);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":i=a(i),s=a(s);break;case"grid":case"color":case"color-index":case"monochrome":i=parseInt(i,10)||1,s=parseInt(s,10)||0}switch(n){case"min":return s>=i;case"max":return s<=i;default:return s===i}});return i&&!r||!i&&r})};var r=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,n=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,i=/^(?:(min|max)-)?(.+)/,s=/(em|rem|px|cm|mm|in|pt|pc)?$/,o=/(dpi|dpcm|dppx)?$/;function a(e){var t,r=Number(e);return r||(r=(t=e.match(/^(\d+)\s*\/\s*(\d+)$/))[1]/t[2]),r}function c(e){var t=parseFloat(e);switch(String(e).match(o)[1]){case"dpcm":return t/2.54;case"dppx":return 96*t;default:return t}}function l(e){var t=parseFloat(e);switch(String(e).match(s)[1]){case"em":case"rem":return 16*t;case"cm":return 96*t/2.54;case"mm":return 96*t/2.54/10;case"in":return 96*t;case"pt":return 72*t;case"pc":return 72*t/12;default:return t}}},7918:(e,t,r)=>{"use strict";var n=r(8907).Y,i="undefined"!=typeof window?window.matchMedia:null;function s(e,t,r){var s,o=this;function a(e){o.matches=e.matches,o.media=e.media}i&&!r&&(s=i.call(window,e)),s?(this.matches=s.matches,this.media=s.media,s.addListener(a)):(this.matches=n(e,t),this.media=e),this.addListener=function(e){s&&s.addListener(e)},this.removeListener=function(e){s&&s.removeListener(e)},this.dispose=function(){s&&s.removeListener(a)}}e.exports=function(e,t,r){return new s(e,t,r)}},2022:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(2514)}])},2514:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Q});var n=r(4848),i=r(3368),s=r.n(i),o=r(6599),a=r.n(o),c=r(8763),l=r.n(c),u=r(4362),d=r(6540),h=r(7918),m=r.n(h),p=/[A-Z]/g,f=/^ms-/,_={};function v(e){return"-"+e.toLowerCase()}let x=function(e){if(_.hasOwnProperty(e))return _[e];var t=e.replace(p,v);return _[e]=f.test(t)?"-"+t:t};var w=r(5556),b=r.n(w);let y=b().oneOfType([b().string,b().number]),g={all:b().bool,grid:b().bool,aural:b().bool,braille:b().bool,handheld:b().bool,print:b().bool,projection:b().bool,screen:b().bool,tty:b().bool,tv:b().bool,embossed:b().bool},{type:j,...E}={orientation:b().oneOf(["portrait","landscape"]),scan:b().oneOf(["progressive","interlace"]),aspectRatio:b().string,deviceAspectRatio:b().string,height:y,deviceHeight:y,width:y,deviceWidth:y,color:b().bool,colorIndex:b().bool,monochrome:b().bool,resolution:y,type:Object.keys(g)},k={minAspectRatio:b().string,maxAspectRatio:b().string,minDeviceAspectRatio:b().string,maxDeviceAspectRatio:b().string,minHeight:y,maxHeight:y,minDeviceHeight:y,maxDeviceHeight:y,minWidth:y,maxWidth:y,minDeviceWidth:y,maxDeviceWidth:y,minColor:b().number,maxColor:b().number,minColorIndex:b().number,maxColorIndex:b().number,minMonochrome:b().number,maxMonochrome:b().number,minResolution:y,maxResolution:y,...E};var C={all:{...g,...k}};let L=e=>`not ${e}`,O=(e,t)=>{let r=x(e);return("number"==typeof t&&(t=`${t}px`),!0===t)?r:!1===t?L(r):`(${r}: ${t})`},R=e=>e.join(" and "),N=e=>{let t=[];return Object.keys(C.all).forEach(r=>{let n=e[r];null!=n&&t.push(O(r,n))}),R(t)},S=(0,d.createContext)(void 0),T=e=>e.query||N(e),D=e=>{if(e)return Object.keys(e).reduce((t,r)=>(t[x(r)]=e[r],t),{})},P=()=>{let e=(0,d.useRef)(!1);return(0,d.useEffect)(()=>{e.current=!0},[]),e.current},A=e=>{let t=(0,d.useContext)(S),r=()=>D(e)||D(t),[n,i]=(0,d.useState)(r);return(0,d.useEffect)(()=>{let e=r();!function(e,t){if(e===t)return!0;if(!e||!t)return!1;let r=Object.keys(e),n=Object.keys(t),i=r.length;if(n.length!==i)return!1;for(let n=0;n<i;n++){let i=r[n];if(e[i]!==t[i]||!Object.prototype.hasOwnProperty.call(t,i))return!1}return!0}(n,e)&&i(e)},[e,t]),n},I=e=>{let t=()=>T(e),[r,n]=(0,d.useState)(t);return(0,d.useEffect)(()=>{let e=t();r!==e&&n(e)},[e]),r},W=(e,t)=>{let r=()=>m()(e,t||{},!!t),[n,i]=(0,d.useState)(r),s=P();return(0,d.useEffect)(()=>{if(s){let e=r();return i(e),()=>{e&&e.dispose()}}},[e,t]),n},Y=e=>{let[t,r]=(0,d.useState)(e.matches);return(0,d.useEffect)(()=>{let t=e=>{r(e.matches)};return e.addListener(t),r(e.matches),()=>{e.removeListener(t)}},[e]),t},F=(e,t,r)=>{let n=A(t),i=I(e);if(!i)throw Error("Invalid or missing MediaQuery!");let s=W(i,n),o=Y(s),a=P();return(0,d.useEffect)(()=>{a&&r&&r(o)},[o]),(0,d.useEffect)(()=>()=>{s&&s.dispose()},[]),o};function G(e){let{position:t,value:r}=e,i=F({minWidth:512})?u.Gk:u.gU,[s,o]=(0,d.useState)(1),a=function(e){let t=(0,d.useRef)();return(0,d.useEffect)(()=>{t.current=e}),t.current}(r)!=r;(0,d.useEffect)(()=>{a&&(o(1.1),setTimeout(()=>o(1),u.Pe))},[a]);let c={left:t[0]/u.Ph*i,top:t[1]/u.Ph*i,transform:"scale(".concat(s,")"),zIndex:r};return(0,n.jsx)("div",{className:"".concat(l().tile," ").concat(l()["tile".concat(r)]),style:c,children:r})}var H=r(7154);function M(e){let{children:t,onSwipe:r}=e,i=(0,d.useRef)(null),[s,o]=(0,d.useState)(0),[a,c]=(0,d.useState)(0),l=(0,d.useCallback)(e=>{var t;(null===(t=i.current)||void 0===t?void 0:t.contains(e.target))&&(e.preventDefault(),o(e.touches[0].clientX),c(e.touches[0].clientY))},[]),u=(0,d.useCallback)(e=>{var t;if(null===(t=i.current)||void 0===t?void 0:t.contains(e.target))e.preventDefault(),r({deltaX:e.changedTouches[0].clientX-s,deltaY:e.changedTouches[0].clientY-a}),o(0),c(0)},[s,a,r]);return(0,d.useEffect)(()=>(window.addEventListener("touchstart",l,{passive:!1}),window.addEventListener("touchend",u,{passive:!1}),()=>{window.removeEventListener("touchstart",l),window.removeEventListener("touchend",u)}),[l,u]),(0,n.jsx)("div",{ref:i,children:t})}var $=r(6028),B=r.n($);function U(e){let{heading:t="You won!",type:r=""}=e,{startGame:i}=(0,d.useContext)(H.A);return(0,n.jsx)("div",{className:"".concat(B().splash," ").concat("won"===r&&B().win),children:(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{children:t}),(0,n.jsx)("button",{className:B().button,onClick:i,children:"Play again"})]})})}function X(){let{getTiles:e,moveTiles:t,startGame:r,status:i}=(0,d.useContext)(H.A),s=(0,d.useRef)(!1),o=(0,d.useCallback)(e=>{e.preventDefault(),"ArrowUp"===e.code&&t("move_up"),"ArrowDown"===e.code&&t("move_down"),"ArrowLeft"===e.code&&t("move_left"),"ArrowRight"===e.code&&t("move_right")},[t]),c=(0,d.useCallback)(e=>{let{deltaX:r,deltaY:n}=e;Math.abs(r)>Math.abs(n)?r>0?t("move_right"):t("move_left"):n>0?t("move_down"):t("move_up")},[t]);return(0,d.useEffect)(()=>{!1===s.current&&(r(),s.current=!0)},[r]),(0,d.useEffect)(()=>(window.addEventListener("keydown",o),()=>{window.removeEventListener("keydown",o)}),[o]),(0,n.jsx)(M,{onSwipe:c,children:(0,n.jsxs)("div",{className:a().board,children:["won"===i&&(0,n.jsx)(U,{heading:"You won!"}),"lost"===i&&(0,n.jsx)(U,{heading:"lost."}),(0,n.jsx)("div",{className:a().tiles,children:e().map(e=>(0,n.jsx)(G,{...e},"".concat(e.id)))}),(0,n.jsx)("div",{className:a().grid,children:(()=>{let e=[];for(let t=0;t<16;t++)e.push((0,n.jsx)("div",{className:a().cell},t));return e})()})]})})}var q=r(3019),z=r.n(q),J=r(9821),V=r.n(J);function Z(){let{score:e}=(0,d.useContext)(H.A);return(0,n.jsxs)("div",{className:V().score,children:["Score",(0,n.jsx)("div",{children:e})]})}function Q(){return(0,n.jsxs)("div",{className:z().twenty48,children:[(0,n.jsxs)(s(),{children:[(0,n.jsx)("title",{children:"Play 2048!"}),(0,n.jsx)("meta",{name:"description",content:"2048 in React"}),(0,n.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,n.jsxs)("header",{children:[(0,n.jsx)("h1",{children:"2048"}),(0,n.jsx)(Z,{})]}),(0,n.jsx)("main",{children:(0,n.jsx)(X,{})}),(0,n.jsx)("footer",{children:"\uD83D\uDC4B\uD83C\uDFFB Greeting from Maxwell"})]})}},6599:e=>{e.exports={board:"board_board__TjSVF",grid:"board_grid__GIY3k",cell:"board_cell__Wr6bs",tiles:"board_tiles__Lk_FR"}},3019:e=>{e.exports={twenty48:"styles_twenty48__a9Pvt"}},9821:e=>{e.exports={score:"score_score__1m_x7"}},6028:e=>{e.exports={splash:"splash_splash__wscpw",win:"splash_win__NqdN4",button:"splash_button__wqzBj"}},8763:e=>{e.exports={tile:"tile_tile__RJuk6",tile8:"tile_tile8__vGG9p",tile16:"tile_tile16__TxSFo",tile32:"tile_tile32__J2THy",tile64:"tile_tile64__P76i2",tile128:"tile_tile128__BSNL4",tile256:"tile_tile256__OjOGa",tile512:"tile_tile512__Y9BXN",tile1024:"tile_tile1024__rbna3",tile2048:"tile_tile2048__GrvW_",tile4096:"tile_tile4096__UnU77",tile8192:"tile_tile8192__PLhSD",tile2:"tile_tile2__zyAZi",tile4:"tile_tile4__I7Gv4"}},3368:(e,t,r)=>{e.exports=r(6085)},2694:(e,t,r)=>{"use strict";var n=r(6925);function i(){}function s(){}s.resetWarningCache=i,e.exports=function(){function e(e,t,r,i,s,o){if(o!==n){var a=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:i};return r.PropTypes=r,r}},5556:(e,t,r)=>{e.exports=r(2694)()},6925:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},e=>{var t=t=>e(e.s=t);e.O(0,[636,593,792],()=>t(2022)),_N_E=e.O()}]);